<canvas id='V'>
<script type="text/javascript" src="stats.min.js"></script>
<script>
C = V.getContext('2d');

// AUDIO
/*
e = '';
M = [e = 'data:audio/wav;base64,UklGRiQAAABXQVZFZm10IBAAAAABAAEAwF0AAMBdAAABAAgAZGF0YQAA'];
for (t = 0; t++ < 8e5;) {
    e += btoa(String.fromCharCode('12132425363748498765'[(t >> 10 & 15) + (t >> 13 & 4)] * t & 96, Math.random() * 127 * (Math.pow(t / 144000 % 1, 16) / 4 + Math.pow(1 - t / 144000 % 1, 64)), t >> 10 & 7 ^ 5 || Math.random() * 127));
}
Z = new Audio(e);
Z.play();*/

// DRAWING

//V.style.cssText = 'position:fixed;top:0;bottom:0;right:0;left:0;background:#000';
V.style.position='fixed';
V.style.top = 0;
V.style.bottom = 0;
V.style.right = 0;
V.style.left = 0;
V.width = W = innerWidth;
V.height = H = innerHeight;

/*ST = 1;
objs = [];
stars = [];
yy = H/2;
xx = W/2;
an = 0;

for (i = 0; i++ < 100;) {
	ow = oh = 50 + i;
	objs.push({
		x : i * W*.01, // position x
		y : yy + Math.sin(i*6)*100, // position y

		w : ow, // width
		h : oh, // height
		r : 0, // rotation
		c : i*10,//0 // color HUE
		mw : 1, // multiplier for width
		mh : 1, // multiplier for height
		sin : 0
		//cos : 0,
		//mc : 1
	});
	stars.push({
		x : Math.random()*W,
		y : Math.random()*H,
		w : Math.random()*4,
		a : Math.random()// color alpha
	});
}
*/
function u() 
{
/*	for (i = 0; i++ < objs.length-1;) {
		e = objs[i];

		if (ST > 0) {
			// size
			if (e.w > 150 || e.w < 50) e.mw *= -1;
			if (e.h > 150 || e.h < 50) e.mh *= -1;
			e.w += e.mw;
			e.h += e.mh;

			// position x,y
			e.sin += .02;
			e.x = i * W*.01;
			e.y = yy + Math.sin(i*6+e.sin)*100;
		}
		if (ST < 0) {
			// position x,y
			e.x = xx + Math.cos(an-=.5)*i*5;
			e.y = yy + Math.sin(an-=.5)*i*8;
		}

		// rotation
		e.r -= .01;

		// color
		e.c += 1;
	}
*/
	m=++t>40;
	i=0;
//	for(i=(W*H/z|0)-1;i--;)
	{
		x=px[i];
		//if (m&&x.x>200/*&&x.x<1200&&x.y>160&&x.y<241*/) x.x-=10*.16, x.ix-=10*.16; //&&x.y>200&&x.y<640) 
		//if (m&&x.x>180&&x.x<200) l=n*q, x.x+=25*mc(l), x.y+=25*ms(l);
		//if (!x.t&&m&&x.x>180&&x.x<200) x.t=1;
		//if (x.t) l=n*q, x.x= x.ix + 500*mc(l), x.y= x.iy + 300*ms(3*l);
		if (x.t) l=n*q, x.x= x.ix + 100*(ms(l)*(Math.exp(mc(l))-2*mc(4*l)-Math.pow(ms(l/12),5))), x.y= x.iy + 100*(mc(l)*(Math.exp(mc(l))-2*mc(4*l)-Math.pow(ms(l/12),5)));		
		//if (!m) q=0;
		//if (m&&x.t) l=n*q, ro=ms(Math.pow(q,2))-1.7, x.x= x.ix + 100*ro*mc(l), x.y= x.iy + 100*ro*ms(l);
		//if (m&&x.t) l=n*q, ro=Math.exp(ms(q))-2*mc(4*q)+Math.pow(ms((2*q-3.1415)/24),5), x.x= x.ix + 100*ro*mc(l), x.y= x.iy + 100*ro*ms(l);
	}

	q+=2*.16;
}
tw= [function(){return (i/W|0)*z},function(x){return .05*x*x}]; 

z=80;
function colors()
{
	h=['f00','0f0','00f'],c=[];
	for(i=W*H;i-=z;c.push(h[Math.random()*3|0]));
	return c;
}

function ob()
{
	h=colors();c=[];
	//for(i=W*H;i-=z;c.push({x:i%W,y:(i/W|0)*z,c:'#'+h[i],s:z,t:0,ix:i%W,iy:(i/W|0)*z}));
	c.push( {x:W/2,y:H/2,c:'#'+h[0],s:z,t:1,ix:W/2,iy:H/2} );
	return c;
}

px=ob();
mc=Math.cos,ms=Math.sin;
t=l=o=q=j=1;
n=.01745;
function r()
{
	//p=++t%5|0;l=(l+(p?0:1))%(H/z|0);
	
	//o=!p?1+Math.random()*2|0:o;
	C.fillStyle='#000';
	C.globalAlpha = .1;
	//C.fillRect(0,0,W,H);
	i=0;
	//for(i=(W*H/z|0)-1;i--;)
	{
		//console.log(i + " " + i%W + " " + (i/W|0) );
		//x=i%W,y=(i/W|0)*z;
		//if (!m) C.fillStyle='#'+h[y>l?0:o],C.fillRect(x,y*z,z,z),q=0;
		//else C.fillStyle='#'+h[0]; j=q*n; /*C.fillRect(x*.5+x*mc(l)+y*ms(l),y*.5+y*mc(l)-x*ms(l),z,z);*/ C.fillRect(x + 25*mc(l),y + 25*ms(l),z,z);
		//C.fillStyle='#'+ h[i];
		//if (m&&x>200&&x<1200&&y>200&&y<640) C.fillStyle='#0f0', C.fillRect(,y,z,z);
		//else C.fillRect(x,y,z,z);
		x=px[i];
	//	if (x.t || (x.x>200&&x.x<1200&&x.y>160&&x.y<241))
		{
			C.fillStyle=x.c;
			C.fillRect(x.x,x.y,x.s,x.s);
		}
	}
	
	//C.drawImage(c,0,0);
/*
	alp = ST > 0 ? .1 : .01
	C.fillStyle = 'rgba(0,0,0,'+alp+')';
	C.fillRect(0,0,W,H);
	// C.clearRect(0,0,W,H);
	// C.globalCompositeOperation = 'xor'; // source-over destination-over xor
	for (i = 0; i++ < objs.length-1;) {
		e = objs[i];
		s = stars[i];
		C.fillStyle = 'rgba(255,255,255,'+s.a+')';
		C.fillRect(s.x, s.y, s.w, s.w);
		C.fillStyle = 'hsl('+e.c+', 100%, 50%)';
		if (ST > 0) {
			C.save();
			C.translate(e.x, e.y);
			C.rotate(e.r);
			C.fillRect(-e.w/2, -e.h/2, e.w, e.h);
			C.restore();
		}
		if (ST < 0) {
			C.fillRect(e.x-e.w/2, e.y-e.h/2, i/5, i/5);
		}
	}
*/
}

var stats = new Stats();
	stats.setMode(0);
	
	//align right 
	stats.domElement.className = "fps";
	document.body.appendChild( stats.domElement );
(function rn(t) {
	stats.begin();
	u();
	r();
	stats.end();
	requestAnimationFrame(rn);
})()
//setInterval(function(){ST *= -1;C.clearRect(0,0,W,H)},10000)
</script>